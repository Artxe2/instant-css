import{S as re,i as ie,s as oe,H as De,e as C,k as B,c as M,a as P,d as k,m as N,f as ae,b as z,g as U,J as K,K as pe,L as Ee,M as be,q as H,o as S,U as Ae,O as le,w as x,x as ee,y as te,B as ne,G as F,t as fe,h as ue,a6 as Se,I as L,a7 as Ye,j as ze,a8 as Pe,F as se,a4 as me,a5 as he,v as qe,N as Be,n as ge,p as ce,Y as we}from"../../chunks/vendor-ce679c2e.js";import{d as J,t as _e,a as j,b as R,e as W,f as Z,g as $}from"../../chunks/store-b5332f84.js";const Ne=t=>({}),Ie=t=>({});function Fe(t){let e,n,s,i,f,r;const a=t[8].default,l=De(a,t,t[7],null),g=t[8].drag,u=De(g,t,t[7],Ie);return{c(){e=C("div"),l&&l.c(),n=B(),s=C("div"),u&&u.c(),this.h()},l(c){e=M(c,"DIV",{style:!0,class:!0});var E=P(e);l&&l.l(E),E.forEach(k),n=N(c),s=M(c,"DIV",{style:!0});var T=P(s);u&&u.l(T),T.forEach(k),this.h()},h(){ae(e,"touch-action","none"),ae(e,"width","fit-content"),ae(e,"user-select","none",1),z(e,"class",t[0]),ae(s,"display","none")},m(c,E){U(c,e,E),l&&l.m(e,null),t[9](e),U(c,n,E),U(c,s,E),u&&u.m(s,null),t[10](s),i=!0,f||(r=[K(e,"mousedown",t[3]),K(e,"touchstart",t[4])],f=!0)},p(c,[E]){l&&l.p&&(!i||E&128)&&pe(l,a,c,c[7],i?be(a,c[7],E,null):Ee(c[7]),null),(!i||E&1)&&z(e,"class",c[0]),u&&u.p&&(!i||E&128)&&pe(u,g,c,c[7],i?be(g,c[7],E,Ne):Ee(c[7]),Ie)},i(c){i||(H(l,c),H(u,c),i=!0)},o(c){S(l,c),S(u,c),i=!1},d(c){c&&k(e),l&&l.d(c),t[9](null),c&&k(n),c&&k(s),u&&u.d(c),t[10](null),f=!1,Ae(r)}}}function Xe(t,e,n){let{$$slots:s={},$$scope:i}=e,{classs:f=""}=e,{setDragElement:r}=e,{ondragstart:a=void 0}=e,l,g;const u=y=>{const Y=(g.firstChild||l).cloneNode(!0);Y.style.position="absolute",Y.style.top=l.offsetTop+"px",Y.style.left=l.offsetLeft+"px",document.body.append(Y),r(y.clientX,y.clientY,Y),a&&a(new DragEvent("dragstart"))},c=y=>{u(y.touches[0])};function E(y){le[y?"unshift":"push"](()=>{l=y,n(1,l)})}function T(y){le[y?"unshift":"push"](()=>{g=y,n(2,g)})}return t.$$set=y=>{"classs"in y&&n(0,f=y.classs),"setDragElement"in y&&n(5,r=y.setDragElement),"ondragstart"in y&&n(6,a=y.ondragstart),"$$scope"in y&&n(7,i=y.$$scope)},[f,l,g,u,c,r,a,i,s,E,T]}class Ge extends re{constructor(e){super();ie(this,e,Xe,Fe,oe,{classs:0,setDragElement:5,ondragstart:6})}}function Oe(t){let e,n=t[1][t[4]]+"",s,i,f,r,a;return{c(){e=C("div"),s=fe(n),this.h()},l(l){e=M(l,"DIV",{class:!0});var g=P(e);s=ue(g,n),g.forEach(k),this.h()},h(){var l,g;z(e,"class",i="w=6 ol=.1_solid ta=center fs=2 cs=pointer tf=translateY("+t[2][t[4]]+"px) "+(t[8]?" tt="+t[5]+"ms":"")+" "+(((l=t[7])==null?void 0:l.index)===t[4]&&((g=t[7])==null?void 0:g.type)===t[3]?" opacity=.2 ol=.2_solid_#aaa":"")+" "+(t[9]===t[3]&&t[4]===t[1].length-1?" none":"")),Se(()=>t[15].call(e))},m(l,g){U(l,e,g),L(e,s),f=Ye(e,t[15].bind(e)),r||(a=K(e,"dragenter",t[10]),r=!0)},p(l,g){var u,c;g&18&&n!==(n=l[1][l[4]]+"")&&ze(s,n),g&958&&i!==(i="w=6 ol=.1_solid ta=center fs=2 cs=pointer tf=translateY("+l[2][l[4]]+"px) "+(l[8]?" tt="+l[5]+"ms":"")+" "+(((u=l[7])==null?void 0:u.index)===l[4]&&((c=l[7])==null?void 0:c.type)===l[3]?" opacity=.2 ol=.2_solid_#aaa":"")+" "+(l[9]===l[3]&&l[4]===l[1].length-1?" none":""))&&z(e,"class",i)},d(l){l&&k(e),f(),r=!1,a()}}}function je(t){let e,n=t[1][t[4]]+"!!",s,i;return{c(){e=C("div"),s=fe(n),this.h()},l(f){e=M(f,"DIV",{slot:!0,class:!0});var r=P(e);s=ue(r,n),r.forEach(k),this.h()},h(){z(e,"slot","drag"),z(e,"class","ta=center fs=2.5 cs=move c=#000 @dark@c=#fff"),Se(()=>t[14].call(e))},m(f,r){U(f,e,r),L(e,s),i=Ye(e,t[14].bind(e))},p(f,r){r&18&&n!==(n=f[1][f[4]]+"!!")&&ze(s,n)},d(f){f&&k(e),i()}}}function Je(t){let e,n;return e=new Ge({props:{setDragElement:t[6],ondragstart:t[11],$$slots:{drag:[je],default:[Oe]},$$scope:{ctx:t}}}),{c(){x(e.$$.fragment)},l(s){ee(e.$$.fragment,s)},m(s,i){te(e,s,i),n=!0},p(s,[i]){const f={};i&64&&(f.setDragElement=s[6]),i&66495&&(f.$$scope={dirty:i,ctx:s}),e.$set(f)},i(s){n||(H(e.$$.fragment,s),n=!0)},o(s){S(e.$$.fragment,s),n=!1},d(s){ne(e,s)}}}function Ke(t,e,n){let s,i,f;F(t,J,p=>n(7,s=p)),F(t,_e,p=>n(8,i=p)),F(t,j,p=>n(9,f=p));let{list:r}=e,{transforms:a}=e,{type:l}=e,{index:g}=e,{clientHeight:u}=e,{duration:c=400}=e,{setDragElement:E}=e,{transferList:T}=e,{moveItem:y}=e;const Y=()=>{const p=s==null?void 0:s.index,A=s==null?void 0:s.type;p===void 0||p===g&&A===l||(A===l?T(g):y(g))},q=()=>{J.set({type:l,index:g}),_e.set(!0)};function X(){u=this.clientHeight,n(0,u)}function I(){u=this.clientHeight,n(0,u)}return t.$$set=p=>{"list"in p&&n(1,r=p.list),"transforms"in p&&n(2,a=p.transforms),"type"in p&&n(3,l=p.type),"index"in p&&n(4,g=p.index),"clientHeight"in p&&n(0,u=p.clientHeight),"duration"in p&&n(5,c=p.duration),"setDragElement"in p&&n(6,E=p.setDragElement),"transferList"in p&&n(12,T=p.transferList),"moveItem"in p&&n(13,y=p.moveItem)},[u,r,a,l,g,c,E,s,i,f,Y,q,T,y,X,I]}class Ce extends re{constructor(e){super();ie(this,e,Ke,Je,oe,{list:1,transforms:2,type:3,index:4,clientHeight:0,duration:5,setDragElement:6,transferList:12,moveItem:13})}}const{document:de}=Pe;function Ue(t){let e,n,s,i;const f=t[10].default,r=De(f,t,t[9],null);return{c(){e=B(),r&&r.c()},l(a){e=N(a),r&&r.l(a)},m(a,l){U(a,e,l),r&&r.m(a,l),n=!0,s||(i=[K(de.body,"mousemove",t[0]),K(de.body,"mouseup",t[2]),K(de.body,"touchmove",t[1]),K(de.body,"touchend",t[3])],s=!0)},p(a,[l]){r&&r.p&&(!n||l&512)&&pe(r,f,a,a[9],n?be(f,a[9],l,null):Ee(a[9]),null)},i(a){n||(H(r,a),n=!0)},o(a){S(r,a),n=!1},d(a){a&&k(e),r&&r.d(a),s=!1,Ae(i)}}}function Qe(t,e,n){let{$$slots:s={},$$scope:i}=e,{isDragging:f=!1}=e,{dragElement:r=null}=e,{ondrag:a=void 0}=e,{ondragend:l=void 0}=e;const g=(I,p,A)=>{n(5,r=A),c=I,E=p,n(4,f=!0)};let u,c=0,E=0;const T=I=>{if(f){const p=X(document.elementsFromPoint(I.clientX,I.clientY));p&&u!=p&&(u&&u.dispatchEvent(new DragEvent("dragleave")),u=p,u.dispatchEvent(new DragEvent("dragenter"))),n(5,r.style.transform=`translate(${I.clientX-c}px, ${I.clientY-E}px)`,r),a&&a(new DragEvent("dragmove"))}},y=I=>{T(I.touches[0])},Y=()=>{f&&(document.body.removeChild(r),u&&(u.dispatchEvent(new DragEvent("drop")),u=null),n(5,r=null),n(4,f=!1),l&&l(new DragEvent("dragend")))},q=()=>{Y()},X=I=>{const p=I.length;for(let A=0;A<p;A++)if(!r.compareDocumentPosition(I[A]))return I[A+1]};return t.$$set=I=>{"isDragging"in I&&n(4,f=I.isDragging),"dragElement"in I&&n(5,r=I.dragElement),"ondrag"in I&&n(6,a=I.ondrag),"ondragend"in I&&n(7,l=I.ondragend),"$$scope"in I&&n(9,i=I.$$scope)},[T,y,Y,q,f,r,a,l,g,i,s]}class Re extends re{constructor(e){super();ie(this,e,Qe,Ue,oe,{isDragging:4,dragElement:5,ondrag:6,ondragend:7,setDragElement:8})}get setDragElement(){return this.$$.ctx[8]}}function We(t){let e,n,s,i;return{c(){e=C("div"),n=fe("Empty"),this.h()},l(f){e=M(f,"DIV",{style:!0,class:!0});var r=P(e);n=ue(r,"Empty"),r.forEach(k),this.h()},h(){ae(e,"user-select","none"),z(e,"class","w=6 ol=.1_dashed ta=center fs=2 cs=pointer")},m(f,r){U(f,e,r),L(e,n),s||(i=K(e,"dragenter",t[0]),s=!0)},p:se,i:se,o:se,d(f){f&&k(e),s=!1,i()}}}function Ze(t,e,n){let s;F(t,J,r=>n(2,s=r));let{moveItem:i}=e;const f=()=>{(s==null?void 0:s.index)!==void 0&&i(0)};return t.$$set=r=>{"moveItem"in r&&n(1,i=r.moveItem)},[f,i]}class Me extends re{constructor(e){super();ie(this,e,Ze,We,oe,{moveItem:1})}}function ye(t,e,n){const s=t.slice();return s[18]=e[n],s[19]=e,s[20]=n,s}function He(t,e,n){const s=t.slice();return s[18]=e[n],s[21]=e,s[20]=n,s}function ke(t){let e,n,s;function i(r){t[12](r,t[20])}let f={setDragElement:t[3],list:t[5],transforms:t[7],type:"todo",index:t[20],transferList:t[10],moveItem:t[11]};return t[0][t[20]]!==void 0&&(f.clientHeight=t[0][t[20]]),e=new Ce({props:f}),le.push(()=>me(e,"clientHeight",i)),{c(){x(e.$$.fragment)},l(r){ee(e.$$.fragment,r)},m(r,a){te(e,r,a),s=!0},p(r,a){t=r;const l={};a&8&&(l.setDragElement=t[3]),a&32&&(l.list=t[5]),a&128&&(l.transforms=t[7]),!n&&a&1&&(n=!0,l.clientHeight=t[0][t[20]],he(()=>n=!1)),e.$set(l)},i(r){s||(H(e.$$.fragment,r),s=!0)},o(r){S(e.$$.fragment,r),s=!1},d(r){ne(e,r)}}}function Te(t){let e,n;return e=new Me({props:{moveItem:t[11]}}),{c(){x(e.$$.fragment)},l(s){ee(e.$$.fragment,s)},m(s,i){te(e,s,i),n=!0},p:se,i(s){n||(H(e.$$.fragment,s),n=!0)},o(s){S(e.$$.fragment,s),n=!1},d(s){ne(e,s)}}}function Ve(t){let e,n,s;function i(r){t[13](r,t[20])}let f={setDragElement:t[3],list:t[4],transforms:t[6],type:"done",index:t[20],transferList:t[10],moveItem:t[11]};return t[1][t[20]]!==void 0&&(f.clientHeight=t[1][t[20]]),e=new Ce({props:f}),le.push(()=>me(e,"clientHeight",i)),{c(){x(e.$$.fragment)},l(r){ee(e.$$.fragment,r)},m(r,a){te(e,r,a),s=!0},p(r,a){t=r;const l={};a&8&&(l.setDragElement=t[3]),a&16&&(l.list=t[4]),a&64&&(l.transforms=t[6]),!n&&a&2&&(n=!0,l.clientHeight=t[1][t[20]],he(()=>n=!1)),e.$set(l)},i(r){s||(H(e.$$.fragment,r),s=!0)},o(r){S(e.$$.fragment,r),s=!1},d(r){ne(e,r)}}}function Le(t){let e,n;return e=new Me({props:{moveItem:t[11]}}),{c(){x(e.$$.fragment)},l(s){ee(e.$$.fragment,s)},m(s,i){te(e,s,i),n=!0},p:se,i(s){n||(H(e.$$.fragment,s),n=!0)},o(s){S(e.$$.fragment,s),n=!1},d(s){ne(e,s)}}}function $e(t){let e,n,s,i,f,r,a,l,g,u,c,E,T,y,Y,q,X,I,p,A=t[5],o=[];for(let m=0;m<A.length;m+=1)o[m]=ke(He(t,A,m));const v=m=>S(o[m],1,1,()=>{o[m]=null});let _=(!t[5].length||t[5].length===1&&t[8]==="todo")&&Te(t),d=t[4],D=[];for(let m=0;m<d.length;m+=1)D[m]=Ve(ye(t,d,m));const b=m=>S(D[m],1,1,()=>{D[m]=null});let V=(!t[4].length||t[4].length===1&&t[8]==="done")&&Le(t);return{c(){e=C("div"),n=C("div"),s=C("span"),i=fe("To do"),f=B(),r=C("div"),a=B();for(let m=0;m<o.length;m+=1)o[m].c();l=B(),_&&_.c(),g=B(),u=C("div"),c=B(),E=C("div"),T=C("span"),y=fe("Done"),Y=B(),q=C("div"),X=B();for(let m=0;m<D.length;m+=1)D[m].c();I=B(),V&&V.c(),this.h()},l(m){e=M(m,"DIV",{class:!0});var w=P(e);n=M(w,"DIV",{class:!0});var h=P(n);s=M(h,"SPAN",{class:!0});var G=P(s);i=ue(G,"To do"),G.forEach(k),f=N(h),r=M(h,"DIV",{class:!0}),P(r).forEach(k),a=N(h);for(let Q=0;Q<o.length;Q+=1)o[Q].l(h);l=N(h),_&&_.l(h),h.forEach(k),g=N(w),u=M(w,"DIV",{class:!0}),P(u).forEach(k),c=N(w),E=M(w,"DIV",{class:!0});var O=P(E);T=M(O,"SPAN",{class:!0});var ve=P(T);y=ue(ve,"Done"),ve.forEach(k),Y=N(O),q=M(O,"DIV",{class:!0}),P(q).forEach(k),X=N(O);for(let Q=0;Q<D.length;Q+=1)D[Q].l(O);I=N(O),V&&V.l(O),O.forEach(k),w.forEach(k),this.h()},h(){z(s,"class","fs=2 bold"),z(r,"class","h=.5"),z(n,"class","flex column"),z(u,"class","w=5"),z(T,"class","fs=2 bold"),z(q,"class","h=.5"),z(E,"class","flex column"),z(e,"class","flex")},m(m,w){U(m,e,w),L(e,n),L(n,s),L(s,i),L(n,f),L(n,r),L(n,a);for(let h=0;h<o.length;h+=1)o[h].m(n,null);L(n,l),_&&_.m(n,null),L(e,g),L(e,u),L(e,c),L(e,E),L(E,T),L(T,y),L(E,Y),L(E,q),L(E,X);for(let h=0;h<D.length;h+=1)D[h].m(E,null);L(E,I),V&&V.m(E,null),p=!0},p(m,w){if(w&3241){A=m[5];let h;for(h=0;h<A.length;h+=1){const G=He(m,A,h);o[h]?(o[h].p(G,w),H(o[h],1)):(o[h]=ke(G),o[h].c(),H(o[h],1),o[h].m(n,l))}for(ge(),h=A.length;h<o.length;h+=1)v(h);ce()}if(!m[5].length||m[5].length===1&&m[8]==="todo"?_?(_.p(m,w),w&288&&H(_,1)):(_=Te(m),_.c(),H(_,1),_.m(n,null)):_&&(ge(),S(_,1,1,()=>{_=null}),ce()),w&3162){d=m[4];let h;for(h=0;h<d.length;h+=1){const G=ye(m,d,h);D[h]?(D[h].p(G,w),H(D[h],1)):(D[h]=Ve(G),D[h].c(),H(D[h],1),D[h].m(E,I))}for(ge(),h=d.length;h<D.length;h+=1)b(h);ce()}!m[4].length||m[4].length===1&&m[8]==="done"?V?(V.p(m,w),w&272&&H(V,1)):(V=Le(m),V.c(),H(V,1),V.m(E,null)):V&&(ge(),S(V,1,1,()=>{V=null}),ce())},i(m){if(!p){for(let w=0;w<A.length;w+=1)H(o[w]);H(_);for(let w=0;w<d.length;w+=1)H(D[w]);H(V),p=!0}},o(m){o=o.filter(Boolean);for(let w=0;w<o.length;w+=1)S(o[w]);S(_),D=D.filter(Boolean);for(let w=0;w<D.length;w+=1)S(D[w]);S(V),p=!1},d(m){m&&k(e),we(o,m),_&&_.d(),we(D,m),V&&V.d()}}}function xe(t){let e,n,s,i;function f(l){t[14](l)}function r(l){t[15](l)}let a={ondragend:t[9],$$slots:{default:[$e]},$$scope:{ctx:t}};return t[2]!==void 0&&(a.isDragging=t[2]),t[3]!==void 0&&(a.setDragElement=t[3]),e=new Re({props:a}),le.push(()=>me(e,"isDragging",f)),le.push(()=>me(e,"setDragElement",r)),{c(){x(e.$$.fragment)},l(l){ee(e.$$.fragment,l)},m(l,g){te(e,l,g),i=!0},p(l,[g]){const u={};g&4194811&&(u.$$scope={dirty:g,ctx:l}),!n&&g&4&&(n=!0,u.isDragging=l[2],he(()=>n=!1)),!s&&g&8&&(s=!0,u.setDragElement=l[3],he(()=>s=!1)),e.$set(u)},i(l){i||(H(e.$$.fragment,l),i=!0)},o(l){S(e.$$.fragment,l),i=!1},d(l){ne(e,l)}}}function et(t,e,n){let s,i,f,r,a,l;F(t,Z,o=>n(4,s=o)),F(t,R,o=>n(5,i=o)),F(t,$,o=>n(6,f=o)),F(t,W,o=>n(7,r=o)),F(t,j,o=>n(8,a=o)),F(t,J,o=>n(16,l=o));const g=[],u=[];let c,E;const T=()=>{const o=l.index,v=l.type;if(J.set(null),a){if(a==="todo"){const _=i.slice();_.splice(_.length-1,1),R.set(_)}else{const _=s.slice();_.splice(_.length-1,1),Z.set(_)}j.set(null)}q(o,v)},y=o=>{const v=l.index,_=l.type,d=(_==="todo"?r:f).slice(),D=_==="todo"?g:u;if(v<o)if(d[o])for(let b=o;d[b];b++)d[v]-=D[b],d[b]=0;else for(let b=o;!d[b];b--)d[v]+=D[b],d[b]=-D[v];else if(d[o])for(let b=o;d[b];b--)d[v]+=D[b],d[b]=0;else for(let b=o;!d[b];b++)d[v]-=D[b],d[b]=D[v];(_==="todo"?W:$).set(d)},Y=o=>{const v=l.index,_=l.type;if(_==="todo"){const d=i.slice(),D=s.slice();D.splice(o,0,d[v]),a?(D.splice(D.length-1,1),j.set(null)):(d.splice(d.length,0,d[v]),j.set(_)),d.splice(v,1),R.set(d),Z.set(D),W.set(new Array(d.length).fill(0)),$.set(new Array(D.length).fill(0)),J.set({type:"done",index:o}),u.splice(o,0,g[v]),g.splice(v,1)}else{const d=s.slice(),D=i.slice();D.splice(o,0,d[v]),a?(D.splice(D.length-1,1),j.set(null)):(d.splice(d.length,0,d[v]),j.set(_)),d.splice(v,1),R.set(D),Z.set(d),W.set(new Array(D.length).fill(0)),$.set(new Array(d.length).fill(0)),J.set({type:"todo",index:o}),g.splice(o,0,u[v]),u.splice(v,1)}},q=(o,v)=>{const _=(v==="todo"?r:f).slice();if(_[o]===0)return;const d=(v==="todo"?i:s).slice(),D=d[o];let b;if(_[o]<0){for(b=o-1;_[b];b--)d[b+1]=d[b],_[b]=0;d[b+1]=D}else{for(b=o+1;_[b];b++)d[b-1]=d[b],_[b]=0;d[b-1]=D}_[o]=0,_e.set(!1),(v==="todo"?R:Z).set(d),(v==="todo"?W:$).set(_)};qe(()=>{R.set(["Task A","Task B","Task C","Task D"]),W.set(new Array(i.length).fill(0)),Z.set(["Task E","Task F","Task G","Task H"]),$.set(new Array(s.length).fill(0))}),Be(()=>{R.set([]),W.set([]),Z.set([]),$.set([]),_e.set(!1),J.set(null),j.set(null)});function X(o,v){t.$$.not_equal(g[v],o)&&(g[v]=o,n(0,g))}function I(o,v){t.$$.not_equal(u[v],o)&&(u[v]=o,n(1,u))}function p(o){c=o,n(2,c)}function A(o){E=o,n(3,E)}return[g,u,c,E,s,i,f,r,a,T,y,Y,X,I,p,A]}class tt extends re{constructor(e){super();ie(this,e,et,xe,oe,{})}}function nt(t){let e,n;return e=new tt({}),{c(){x(e.$$.fragment)},l(s){ee(e.$$.fragment,s)},m(s,i){te(e,s,i),n=!0},p:se,i(s){n||(H(e.$$.fragment,s),n=!0)},o(s){S(e.$$.fragment,s),n=!1},d(s){ne(e,s)}}}class rt extends re{constructor(e){super();ie(this,e,null,nt,oe,{})}}export{rt as default};
